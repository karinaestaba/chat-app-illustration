$pale_violet: hsl(276, 100%, 81%)
$moderate_violet: hsl(276, 55%, 52%)
$desaturated_dark_violet: hsl(271, 15%, 43%)
$grayish_blue: hsl(206, 6%, 79%)
$dark_grayish_violet: hsl(270, 7%, 64%)
$light_magenta: hsl(293, 100%, 63%)
$light_violet: hsl(264, 100%, 61%)
$white: hsl(0, 0%, 100%)
$light_grayish_violet: hsl(270, 20%, 96%)
$very_dark_desaturated_violet: hsl(271, 36%, 24%)
$very_light_magenta: hsl(289, 100%, 72%)

$font_size: 16px
$font-family: 'Rubik', sans-serif

$shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset, rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px

@mixin linearGradient($reversed: false)
  @if($reversed)
    background: rgb(233,66,255)
    background: -moz-linear-gradient(93deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    background: -webkit-linear-gradient(93deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    background: linear-gradient(93deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#e942ff",endColorstr="#8838ff",GradientType=1) 
  @else
    background: rgb(233,66,255)
    background: -moz-linear-gradient(267deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    background: -webkit-linear-gradient(267deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    background: linear-gradient(267deg, rgba(233,66,255,1) 0%, rgba(136,56,255,1) 100%)
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#e942ff",endColorstr="#8838ff",GradientType=1)

*,
*::after,
*::before
  box-sizing: border-box
  margin: 0
  padding: 0
  font-family: $font-family

html,
body
  min-height: 100vh
  height: 100%

body
  font-size: 15px
  list-style: 1.2
  background: $white

input[type=radio]
  display: none

  + label
    &.radio-label
      position: relative
      cursor: pointer

    &::before
      content: ''
      background-color: transparent
      border: 1px solid $very_light_magenta
      cursor: pointer

      padding: 5px
      display: inline-block
      position: relative
      vertical-align: middle
      border-radius: 50%

  &:checked
    + label::after
      content: ''
      display: block
      position: absolute
      top: 2px
      left: 3px
      width: 6px
      height: 6px
      border-width: 6px 0 0 0
      -webkit-transform: rotate(45deg)
      border-radius: 50%
      background: $white

.container
  max-width: 1440px
  margin: 0 auto
  height: 100%
  padding: 64px 40px 16px

  &.bg-bubbles
    &::before
      content: ' '
      position: fixed
      z-index: -1
      top: -58vh
      width: 503px
      height: 948px
      border-radius: 0 0 108% 103% / 0 0 59% 51%
      background: linear-gradient(207.27deg, #e942ff 0%, #8838ff 90.32%)
      left: -309px
      // animation: backgroundLeft 8s ease-in-out infinite

    &::after
      content: ' '
      position: fixed
      z-index: -1
      width: 510px
      height: 900px
      border-radius: 100% 100% 0 0 / 60% 60% 0 0
      background-color: lighten($pale_violet, 18%)
      top: 426px
      right: -319px

.hero-content
  padding-left: 24px
  padding-right: 24px

.chat
  &-container
    background: $white
    border-radius: 32px
    width: 246px
    margin: 0 auto
    padding: 11.2px

    display: grid
    grid-template-columns: repeat(6, 1fr)
    grid-template-rows: 1fr
    box-shadow: $shadow

    animation: fadeIn .5s linear .5s 1 alternate backwards

  &-content
    grid-column: 1/7
    grid-row: 1/1
    background: $light_grayish_violet
    border-radius: 20px

  &-decorator
    grid-column: 2/6
    grid-row: 1/1
    height: 18px
    background: white
    border-bottom-left-radius: 12px
    border-bottom-right-radius: 12px

    margin-left: 10px
    margin-right: 10px

  &-header
    @include linearGradient
    
    border-top-left-radius: 19px
    border-top-right-radius: 19px
    border-bottom-left-radius: 6px
    border-bottom-right-radius: 6px

    padding: 30px 12px 8px

    display: grid
    grid-template-areas: "c-back c-avatar c-title c-menu"
    grid-template-columns: auto auto 1fr auto
    gap: 6px
    align-items: center

    picture
      grid-area: c-avatar

      img
        border-radius: 50%
        border: 1px solid white

  &-body
    padding: 10px 6px 6px
    position: relative
    overflow: hidden

  &-input
    &-box
      padding: 0 6px 6px

    &-container
      background-color: $white
      border-radius: 16px
      padding: 5px
      display: grid
      gap: 5px
      grid-template-areas: "c-input c-button"
      justify-content: center
      grid-template-columns: 1fr auto
      align-items: center

      input
        grid-area: c-input
        background: none
        outline: 0
        font-size: 10px
        padding: 0 10px
        border: none
        color: $desaturated_dark_violet

        &::placeholder
          color: $grayish_blue

      button
        background: none
        border: none
        grid-area: c-button
        cursor: pointer

        figure
          transform: rotate(180deg)
          background: $very_dark_desaturated_violet
          border-radius: 50%
          width: 25px
          height: 25px
          display: flex
          justify-content: center
          align-items: center

          img
            width: 15px
            height: 15px

  &-message
    margin-bottom: 10px
    opacity: 0
    display: flex
    position: relative
    bottom: -200px

    > span
      display: block
      background: lighten($pale_violet, 18%)
      font-size: 8px
      line-height: 11px
      max-width: 59%
      border-radius: 12px
      padding: 6px 8px

    &.gallery
      margin-bottom: 3px

      > span
        max-width: 64%
        display: flex
        flex-wrap: wrap
        gap: 9px
        padding: 4px 0
        background-color: transparent
        box-shadow: none

        picture
          > img
            border-radius: 10px
            width: 39px

    &.budget
      > span
        @include linearGradient($reversed: true)
        max-width: none
        width: 75%
        display: grid
        grid-template-areas: "c-icon c-title c-price"
        grid-template-columns: auto minmax(59%, .7fr) auto
        grid-gap: 7px
        padding-top: 10px
        padding-bottom: 10px
        align-items: center
        color: $white

        .icon
          grid-area: c-icon
          width: 12px
          height: 12px
          display: block
          border: 1px solid $very_light_magenta
          border-radius: 50%

        .title
          grid-area: c-title

        .price
          grid-area: c-price
          font-size: 14px
          font-weight: 700

  &-from
    > span
      background-color: #ebe5f1
      color: $moderate_violet
      border-bottom-left-radius: 3px

    @for $i from 1 through 8
      &:nth-of-type(#{$i})
        animation: slideToTop .2s ease 1s 1 normal forwards
        animation-delay: (1.5s * $i)

  &-to
    flex-direction: row-reverse

    @for $i from 1 through 5
      &:nth-of-type(#{$i})
        animation: slideToTop .2s ease 1s 1 normal forwards
        animation-delay: (1.5s * $i)

    &.gallery
      picture
        opacity: 0

        @for $i from 1 through 3
          &:nth-of-type(#{$i})
            animation: slideToFade (.1s * $i) ease .5s 1 normal forwards
            animation-delay: (3.1s + $i)

    > span
      background-color: $white
      box-shadow: rgba(0, 0, 0, 0.04) 0px 3px 5px
      color: $desaturated_dark_violet
      border-bottom-right-radius: 3px

  &-action
    grid-area: c-back

  &-menu
    grid-area: c-menu

  &-action,
  &-menu
    border: none
    background: transparent
    outline: 0
    cursor: pointer

  &-back
    display: block
    width: 8px
    height: 8px
    border-left: 2px solid $white
    border-top: 2px solid $white
    transform: rotate(-44deg)
    border-top-right-radius: 1px
    border-bottom-left-radius: 1px

  &-options > span,
  &-options::after,
  &-options::before,
    width: 3px
    height: 3px
    display: block
    position: relative
    background: $white
    border-radius: 1px
  
  &-options
    &::after
      content: " "
      margin-top: 2px

    &::before
      content: " "
      margin-bottom: 2px

  &-title
    grid-area: c-title

    .user
      &-name
        font-size: 11px
        line-height: 0
        white-space: nowrap
        color: $white

      &-status
        font-size: 8px
        color: $pale_violet
  
.main
  &-content
    margin-top: 62px
    margin-bottom: 60px

    h1
      font-size: 38.2px
      line-height: 42px
      font-weight: 500
      margin-bottom: 35px
      color: $very_dark_desaturated_violet
      text-align: center

    p
      text-align: center
      font-size: 16px
      line-height: 27px
      color: $dark_grayish_violet

@keyframes backgroundLeft
  0%
    top: -240px
    transform: scale(1)

  50%
    top: -200px
    transform: scale(.75)
    
  100%
    top: -240px
    transform: scale(1)

@media screen and ( min-width: 998px )
  .container
    display: grid
    grid-template-columns: 1fr 1fr
    gap: 30px
    align-items: center

    &.bg-bubbles
      &::before
        top: -248px
        width: 503px
        height: 948px
        border-radius: 0 0 108% 103% / 0 0 59% 51%
        left: -82px

      &::after
        width: 510px
        height: 900px
        border-radius: 100% 100% 0 0 / 60% 60% 0 0
        top: 117px
        right: -183px

  .hero-content
    display: grid
    align-self: center
    justify-self: end
    grid-template-columns: repeat(6, 1fr)
    grid-template-rows: 1fr

  .chat-container
    grid-column: 1/7
    grid-row: 1

  .main-content
    margin-top: 6px
    margin-bottom: 0

    h1
      font-size: 40px
      line-height: 28px
      margin-bottom: 35px
      text-align: left

    p
      font-size: 16px
      line-height: 28px
      text-align: left
      white-space: pre-line

@media screen and ( min-width: 1220px )
    .hero-content
      padding-right: 78px
      justify-self: initial

    .chat-container
      grid-column: 4/7

@keyframes fadeIn
  0% 
    opacity: 0

  100%
    opacity: 1
  
@keyframes slideToTop
  0%
    opacity: .4

  100%
    transform: translateY(-5px)
    opacity: 1
    bottom: 0

@keyframes slideToFade
  0%
    opacity: 0

  100%
    opacity: 1
    